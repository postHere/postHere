<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Friends</title>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>

    <!-- CSRF (null-safe) -->
    <meta content="" name="_csrf" th:attr="content=${_csrf?.token}"/>
    <meta content="X-CSRF-TOKEN" name="_csrf_header" th:attr="content=${_csrf?.headerName}"/>
    <link href="/pwa/manifest.json" rel="manifest">
    <script th:src="@{/js/bundle.js}"></script>
</head>
<body id="page-friends">
<h1>Friends</h1>

<div class="tabs">
    <button class="tab active" data-tab="followers">Follower</button>
    <button class="tab" data-tab="followings">Following</button>
    <button class="tab" data-tab="search">Search</button>
</div>

<section class="panel active" id="panel-followers">
    <div aria-live="polite" class="list" id="list-followers"></div>
    <div class="pager">
        <button id="prev-followers">이전</button>
        <span id="page-followers"></span>
        <button id="next-followers">다음</button>
    </div>
</section>

<section class="panel" id="panel-followings">
    <div aria-live="polite" class="list" id="list-followings"></div>
    <div class="pager">
        <button id="prev-followings">이전</button>
        <span id="page-followings"></span>
        <button id="next-followings">다음</button>
    </div>
</section>

<section class="panel" id="panel-search">
    <!-- ✅ Enter로 검색되도록 form 래핑 -->
    <form class="searchbar" id="searchForm">
        <label class="sr-only" for="searchInput">닉네임으로 검색</label>
        <input aria-label="닉네임으로 검색" autocomplete="off" id="searchInput" placeholder="닉네임으로 검색" type="text"/>
        <button id="searchBtn" type="submit">검색</button>
    </form>
    <div aria-live="polite" class="list" id="list-search"></div>
    <div class="pager">
        <button id="prev-search">이전</button>
        <span id="page-search"></span>
        <button id="next-search">다음</button>
    </div>
</section>
</body>
</html>

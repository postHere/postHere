<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/pwa/manifest.json" rel="manifest">
    <script defer th:src="@{/js/bundle.js}"></script>
    <link rel="stylesheet" th:href="@{/css/main-nav.css}">
    <link href="/images/icons/favicon.ico" rel="icon" type="image/x-icon">
</head>
<body id="page-main-nav">
<div class="main-nav-bar" th:fragment="mainNavFragment">

    <div class="square-toggle" id="square-toggle">
        <div class="toggle-icons">

            <a class="toggle-item forum-select" href="/forum">
                <i class="fas fa-solid fa-pen"></i>
                <span class="label">FORUM</span>
            </a>

            <a class="toggle-item find-select" href="/find">
                <i class="fas fa-solid fa-envelope"></i>
                <span class="label">FIN'D</span>
            </a>

        </div>
    </div>

    <nav class="footer-nav">
        <a href="/forumMain">
            <i class="fas fa-solid fa-home"></i>
        </a>

        <!-- [고정 안내] 하단 '메시지(봉투)' 아이콘은 항상 /find 로 연결되어야 합니다. -->
        <!-- [변경 사항] Find-on-map 페이지로 바로 이동해야 한다는 요구에 따라 href를 /find/on-map 으로 변경 -->
        <!-- [추가] id 부여는 핫픽스를 위한 것으로 동작에 영향 없음 -->
        <a href="/find/on-map" id="nav-find-compose">
            <i class="fas fa-solid fa-envelope"></i>
        </a>

        <a href="/#" id="toggle-button">
            <i class="fas fa-solid fa-plus"></i>
        </a>
        <a href="/notification">
            <i class="fas fa-solid fa-bell"></i>
            <span aria-hidden="true" class="nav-dot" id="nav-bell-dot"></span>
        </a>
        <a href="/profile">
            <i class="fas fa-solid fa-user"></i>
        </a>
    </nav>

    <!-- 기존 main-nav.js 그대로 로드 (여기에 authHeaders 등 유틸 있음)
         - main-nav.js: SW 등록, VAPID 공개키 로드, 권한/구독 처리, SW→Page 'NAVIGATE' 메시지 수신 라우팅 -->
</div>
</body>
</html>
